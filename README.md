a solution to [this code forces problem](https://codeforces.com/problemset/problem/689/B)

the algorithm complexity is O(n)

worst case n iterations if shortcuts lead to beginning

best case n/3 if there is a spanning tree that has 1 as root, is ternary (except for the root) has minimal height